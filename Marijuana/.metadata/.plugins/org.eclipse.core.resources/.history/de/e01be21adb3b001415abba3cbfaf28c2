package marijuanaCrawler;

import org.jsoup.nodes.Document;

public class CraiglistLocationLinkCrawl {
	private final int numRetryDownloadPage = 2;
	private final String startLink = "http://craiglist.org";
	private final String startStateString = "//geo.craigslist.org/iso/us/";
	
	public CraiglistLocationLinkCrawl() {

	}

	public boolean parseDoc() {
		Document doc = NetworkingFunctions.downloadHtmlContent(this.startLink,
				this.numRetryDownloadPage);
		
		if (doc == null)
			return false;
		
		String htmlContent = doc.outerHtml();
		String[] stateLinks = htmlContent.split(this.startStateString);
		String[] states = new String[stateLinks.length];
		
		for (int i = 1; i < stateLinks.length; i++) {
			String linkElem = stateLinks[i];
			stateLinks[i] = linkElem.substring(0, linkElem.indexOf("\""));
			
		}
		
		return true;
	}

	public static void main(String[] args) {
		CraiglistLocationLinkCrawl crawler = new CraiglistLocationLinkCrawl();
		
		if (crawler.parseDoc()) {
			
		}
	}
}
